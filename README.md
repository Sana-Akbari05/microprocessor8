# microprocessor8
# ثنا اکبری 
# جلسه هشتم ریزپردازنده و زبان اسمبلی
# کار با Keypad
**Keypad**
این برنامه در رابطه با استفاده از پد کلید هاست که با فشردن هر کلید از روی صفحه ، عدد کلید مورد نظر بر روی سریال مانیتور نمایش داده شود .
از انجایی که این پد از چهار سطر و چهار ستون تشکیل شده است، باید مقدار سطر ها و ستون ها را به کد معرفی کرد و ورودی های هر سطر را بیان نمود.
در این مدار سطر ها از ورودی های 2 تا 5 و ستون ها از ورودی های 6 تا 9 گرفته شده اند.
برای اجرای این کد به علت اینکه با زدن هر کلید همزمان یک سطر و یک ستون به صورت همزمان دارای مقدار میشوند، و پیدا کردن دقیق مقدار و شماره سطر و ستون ها کار بسیار سخت و زمان بری است و فضای زیادی از کد را اشغال میکند؛ برای همین یک کتابخانه برای این پد طراحی شده که با نصب آن ، به راحتی میتوان با دستور های از قبل تعیین شده برنامه را اجرا کرد.
دستورات کد بدین صورت هستند که ابتدا مقادیر پد را به صورت یک ماتریس برای کد تعریف میکنیم تا مشخص شود با زدن هر دکمه در واقع چه مقداری باید ثبت شود.
بازدن دستور kpd.getkey(); میتوان تشخیص داد که ایا کلیدی فشرده شد یا خیر و درصورت فشرده شدن ، مقدار آن چه بوده است.
در این کد بعد از گرفتن مقدار ورودی، آن را درون یک متغییر ذخیره میکنیم و درون شرطی بیان میکنیم که اگر کلیدی فشرده شد ، مقدار آن را با دستور Serial.print(); درون سريال مانیتور چاپ کند.
مشاهده خروجی :

مشاهده کد:
8/keypad/keypad.ino
مشاهده شماتیک:
<img width="1461" height="632" alt="keypad_schematic" src="https://github.com/user-attachments/assets/32887285-1351-44c5-8e88-37bd26935feb" />


**Calculator**
این کد برای اینجاد یک ماشین حساب با صفحه کلید است:
برای این کار باید از دستور switch case استفاده نمود تا با دادن هر عملگر، یک عمل متفاوت اجرا شود.
برای این کار درون ماتریس از قبل تعیین شده مقادیر A را به +،    Bرا به -، Cرا به * و D را به / تغییر میدهیم:
و همین طور دستور. را به Cبه معنایclear  برای پاک کردن مقدار و شروع دوباره استفاده از ماشین حساب تغییر میدهیم.
کد بدین صورت است که اگر مقدار به جز عملگر ها وارد شود آن را در متغییری به نام num1 میریزد و سپس عملگر را درون متغییری به نام op میریزد و در نهایت ورودی آخر را به درون متغییری دیگر به نام num2 میریزد.
بعد با دستور switch case نوع عملگر را پیدا کرده و با دستور درون تابع که همان switch case است به اجرا در می آورد ونتیجه را درون متغییری ذخیره میکند.
با زدن دکمه = مقدار ذخیره شده جواب را درون سریال مانیتور چاپ میکند.
مشاهده خروجی :


https://github.com/user-attachments/assets/3a99e431-aa79-456d-a46f-8e4e0253fdc7


مشاهده کد:
8/calculator/calculator.ino
مشاهده شماتیک:
<img width="1461" height="632" alt="keypad_schematic" src="https://github.com/user-attachments/assets/11a69bbe-6d8e-414d-9a48-dca6b0094118" />

**Password**
در این برنامه همانند رمز هایی که برای گاوصندوق هابه کار میرود ابتدا با استفاده از پد رمزی زده میشود و با زدن گزینه = تایید میشود ، درصورت تطابق رمز لامپ ال ای دی روشن خواهد شد.
برای تطبیق رمز شرطی قرار میدهیم که باز فشردن کلید= شروع به بررسی خواهد نمود.
در صورت تطبیق رمز درون سریال مانیتور پیام " خوش آمدید " را چاپ کرده به صورت همزمان لامپ ال ای دی روشن خواهد شد و درصورت عدم تطابق رمز درون سريال مانیتور پیام"خطا" چاپ خواهد شد و لامپ ال ای دی خاموش خواهدشد.
مشاهده خروجی 

https://github.com/user-attachments/assets/c1130f5b-95f7-4736-92a0-8489383a46e9

:
مشاهده کد:
8/password/password.ino
مشاهده شماتیک:
<img width="1461" height="632" alt="keypad_schematic" src="https://github.com/user-attachments/assets/145d070b-9876-4b7a-8dfc-c2474c698518" />

